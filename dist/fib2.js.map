{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 8c3d0a2f1e3a0555a296","webpack:///./src/js/fib-engine/constant.js","webpack:///./node_modules/sightglass/index.js","webpack:///./src/js/fib-engine/fib2.responseProcess.js","webpack:///./src/js/utils.js","webpack:///./src/js/fib-engine/config.js","webpack:///./src/js/index.js","webpack:///./src/js/fib-engine/fib2.js","webpack:///./src/js/fib-engine/fib2.transformer.js","webpack:///./src/html/fib2.html","webpack:///./src/js/fib-engine/fib2.modelview.js","webpack:///./node_modules/rivets/dist/rivets.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/scss/index.scss?3dfc","webpack:///./src/scss/index.scss","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./src/js/fib-engine/fib2.events.js"],"names":["Constants","TEMPLATES","FIB2","fib2TemplateRef","THEMES","FIB2_LIGHT","FIB2_DARK","LAYOUT_COLOR","INTERACTION_REFERENCE_STR","STATEMENT_STARTED","STATEMENT_ANSWERED","STATEMENT_INTERACTED","STATEMENT_SUBMITTED","STATUS_NOERROR","getAnswersJSON","Symbol","getFibsrAnswersJSON","getUserAnswersStats","markInput","buildFeedbackResponse","__state","currentTries","activityPartiallySubmitted","activitySubmitted","Fib2ResponseProcessor","fib2Obj","bSubmit","answerJSONs","uniqueId","adaptor","getId","$","attr","addClass","forEach","answerJSON","idx","statusProgress","submitResults","data","status","closeActivity","Config","MAX_RETRIES","saveResults","interactionId","sendStatement","savePartialResults","activityPariallySubmitted","skipQuestion","response","fibsrAns","push","maxScore","jsonContent","meta","score","max","perInteractionScore","fib2Model","interactionIds","length","resultArray","feedback","statusEvaluation","isUserAnswerCorrect","countCorrectInteractionAttempt","isAllInteractionsEmpty","id","index","userAnswers","hasOwnProperty","responses","correctAnswer","userAnswer","undefined","answer","global","correct","empty","incorrect","questions","questionData","totalInteractions","totalQuestions","countCorrectQuestionAttempt","countIncorrectQuestionAttempt","countCorrectInteractionsAttempt","countIncorrectInteractionsAttempt","question","isQuestionCorrect","interactions","ignorecase","toLowerCase","ignorewhitespace","replace","autoResizeActivityIframe","removeClass","parent","after","next","content","type","stats","feedbackState","partiallyCorrect","partiallyIncorrect","Math","floor","persistUserAnswers","each","val","remove","generateStatement","verb","Date","fib2","load","transform","renderView","bindEvents","fib2ModelAndView","elRoot","params","htmlLayout","jsonContentObj","callback","theme","backgroundColor","BG","fontFamily","mcqTransformer","FIB2Transformer","Fib2ModelAndView","html","template","bindData","fib2Events","Fib2Events","fib2ResponseProcessor","state","getState","resetView","markAnswers","feedbackProcessor","clearGrades","buildModelandViewContent","setTheme","setType","setInteractions","setStimuli","setInstructions","setFeedback","setScoring","setResponses","entity","themeObj","instructions","stimuli","scoring","themeKey","map","element","text","_self","canvas","questiondata","obj","parsedQuestionArray","interactionsReferences","find","types","numberOfInteractions","currinteractionid","trim","newchild","replaceWith","questionText","innerHTML","stimulus","tagtype","initializeRivets","model","rivets","formatters","propertyList","properties","keys","Object","key","value","binders","el","img","Image","onload","src","addclass","addedClass","innerHtml","bind","fib2UserResponse","event","PARTIAL_SAVE_TIMER","clearInterval","setInterval","currentTarget","target","newAnswer","attributes","savePartial","focus","handleQuestionTextOnFocus","blur","handleQuestionTextLostFocus"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;AC7DA;;;;;;AAEO,IAAMA,gCAAY;AACvBC,aAAW;AACTC,UAAMC;AADG,GADY;AAIvBC,UAAQ;AACNF,UAAM,MADA;AAENG,gBAAY,YAFN;AAGNC,eAAW;AAHL,GAJe;AASvBC,gBAAc;AACZ,UAAM;AACJ,cAAQ,SADJ;AAEJ,oBAAc,SAFV;AAGJ,mBAAa;AAHT;AADM,GATS;AAgBvBC,6BAA2B,gDAhBJ;AAiBvBC,qBAAmB,SAjBI;AAkBvBC,sBAAoB,UAlBG;AAmBvBC,wBAAsB,YAnBC;AAoBvBC,uBAAqB,WApBE;AAqBvBC,kBAAgB;AArBO,CAAlB,C;;;;;;ACFP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;AAEA,mBAAmB,wBAAwB;AAC3C;;AAEA;AACA;AACA,mBAAmB;AACnB,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,OAAO;AACP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O;AACT8D,iBAAS,KAAKiF;AADL,OAAX;;AAIA;AACAC,uBAAOiB,IAAP,CAAYzK,EAAE,cAAF,CAAZ,EAA+BQ,IAA/B;AACD;;;wBAxEc;AACb,aAAOvC,oBAAUC,SAAV,CAAoBC,IAA3B;AACD;;;wBAEY;AACX,aAAOF,oBAAUI,MAAjB;AACD;;;;;;QAqEKiI,gB,GAAAA,gB;;;;;;ACzFR;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,mBAAmB,gCAAgC,GAAG,EAAE;AACtF;AACA,kBAAkB;AAClB,yCAAyC,0BAA0B,2DAA2D,EAAE,kBAAkB,0BAA0B,EAAE,mCAAmC,8BAA8B,oCAAoC,cAAc,EAAE;AACnS,8CAA8C,iCAAiC,OAAO,OAAO,6CAA6C,EAAE,WAAW;;AAEvJ;AACA;AACA;AACA;AACA,iBAAiB;AACjB,oBAAoB;AACpB,oBAAoB;AACpB,kBAAkB;AAClB;AACA,6BAA6B,KAAK;AAClC;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,YAAY;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,WAAW;AACpD;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,yCAAyC,WAAW;AACpD;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,WAAW;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,YAAY;AAC5D;AACA;AACA;AACA;AACA,aAAa;AACb,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,YAAY;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,2CAA2C,WAAW;AACtD;AACA,yKAAyK;AACzK;AACA;AACA;;AAEA;AACA;AACA;AACA,4CAA4C,WAAW;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,WAAW;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,YAAY;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,WAAW;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,WAAW;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,yCAAyC,WAAW;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,0CAA0C,WAAW;AACrD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,yCAAyC,WAAW;AACpD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,yCAAyC,WAAW;AACpD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,WAAW;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,YAAY;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,WAAW;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,WAAW;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,WAAW;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,mBAAO,CAAC,CAAY;AACxD,GAAG,UAAU,IAA0C;AACvD,IAAI,iCAAO,CAAC,sBAAY,CAAC,mCAAE;AAC3B;AACA,KAAK;AAAA,oGAAC;AACN,GAAG;AACH;AACA;;AAEA,CAAC;;;;;;;;AC93CD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACrBA;;AAEA;AACA,cAAc,mBAAO,CAAC,EAAoG;AAC1H,4CAA4C,QAAS;AACrD;AACA;;AAEA,eAAe;AACf;AACA;AACA,aAAa,mBAAO,CAAC,EAAmD;AACxE;AACA;AACA,GAAG,KAAU;AACb;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;ACzBA,2BAA2B,mBAAO,CAAC,EAA+C;AAClF;;;AAGA;AACA,cAAc,QAAS,soBAAsoB,oBAAoB,kDAAkD,EAAE,mBAAmB,qBAAqB,mBAAmB,yBAAyB,EAAE,iBAAiB,uBAAuB,EAAE,oBAAoB,iBAAiB,EAAE,8BAA8B,oCAAoC,uBAAuB,kBAAkB,EAAE,8CAA8C,4BAA4B,mBAAmB,iCAAiC,uBAAuB,wCAAwC,EAAE,gDAAgD,4BAA4B,qBAAqB,uBAAuB,iCAAiC,wCAAwC,EAAE,2BAA2B,0BAA0B,gBAAgB,yBAAyB,EAAE,mCAAmC,gCAAgC,sBAAsB,qBAAqB,2BAA2B,yBAAyB,wBAAwB,EAAE,4CAA4C,qBAAqB,4BAA4B,EAAE,sCAAsC,4BAA4B,EAAE,+CAA+C,0BAA0B,EAAE,oCAAoC,4BAA4B,EAAE,6CAA6C,0BAA0B,EAAE,8BAA8B,8BAA8B,EAAE,6BAA6B,8BAA8B,EAAE,uDAAuD,mBAAmB,EAAE,iDAAiD,wBAAwB,0BAA0B,EAAE,+CAA+C,wBAAwB,0BAA0B,EAAE,kCAAkC,wBAAwB,mBAAmB,EAAE,2CAA2C,4BAA4B,wBAAwB,EAAE,yCAAyC,8BAA8B,mBAAmB,8BAA8B,EAAE,wCAAwC,8BAA8B,mBAAmB,8BAA8B,EAAE,iBAAiB,8BAA8B,EAAE,+BAA+B,qBAAqB,EAAE;;AAEz6F;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAmC,gBAAgB;AACnD,IAAI;AACJ;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD,cAAc;;AAElE;AACA;;;;;;;AC3EA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;;AAED;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,EAAQ;;AAE9B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;;;;;;;;AC5WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,WAAW,EAAE;AACrD,wCAAwC,WAAW,EAAE;;AAErD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,sCAAsC;AACtC,GAAG;AACH;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;;;;;;;;;;;;;;qjBCxFA;;AAEA;;AACA;;;;IAEMK,U;AACJ,sBAAYjH,OAAZ,EAAqB;AAAA;;AACnB,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKgL,gBAAL,GAAwB,IAAIjL,0BAAJ,CAA0BC,OAA1B,CAAxB;AACD;;AAED;;;;;8CAC0BiL,K,EAAO;AAAA;;AAC/B,UAAI1M,oBAAU2M,kBAAd,EAAkC;AAChCC,sBAAc5M,oBAAU2M,kBAAxB;AACD;AACD3M,0BAAU2M,kBAAV,GAA+BE,YAAY,YAAM;AAC/C,YAAIC,gBAAgBJ,MAAMK,MAA1B;AACA,YAAIC,YAAYF,cAAchB,KAAd,CAAoB/F,OAApB,CAA4B,YAA5B,EAA0C,EAA1C,CAAhB;AACA,YAAIlD,gBAAgBiK,cAAcG,UAAd,CAAyB,IAAzB,EAA+BnB,KAAnD;;AAEA;AACA,YAAIkB,cAAc,MAAKvL,OAAL,CAAa6C,WAAb,CAAyBzB,aAAzB,CAAlB,EAA2D;AACzD;AACD;;AAED;AACA,cAAKpB,OAAL,CAAa6C,WAAb,CAAyBzB,aAAzB,IAA0CmK,SAA1C;;AAEA;AACA,cAAKP,gBAAL,CAAsBS,WAAtB;AAED,OAhB8B,EAgB5B,KAhB4B,CAA/B;AAiBD;;AAED;;;;gDAC4BR,K,EAAO;AACjC;AACA,UAAI1M,oBAAU2M,kBAAd,EAAkC;AAChCC,sBAAc5M,oBAAU2M,kBAAxB;AACD;AACD,UAAIG,gBAAgBJ,MAAMI,aAA1B;AACA,UAAIE,YAAYF,cAAchB,KAAd,CAAoB/F,OAApB,CAA4B,YAA5B,EAA0C,EAA1C,CAAhB;AACA,UAAIlD,gBAAgBiK,cAAcG,UAAd,CAAyB,IAAzB,EAA+BnB,KAAnD;;AAEA;AACA,UAAIkB,cAAc,KAAKvL,OAAL,CAAa6C,WAAb,CAAyBzB,aAAzB,CAAlB,EAA2D;AACzD;AACD;;AAED;AACA,WAAKpB,OAAL,CAAa6C,WAAb,CAAyBzB,aAAzB,IAA0CmK,SAA1C;;AAEA;AACA,WAAKP,gBAAL,CAAsBS,WAAtB;AACD;;;iCAEY;AAAA;;AACXnL,QAAE,aAAF,EACGoL,KADH,CACS,UAACT,KAAD,EAAW;AAChB,eAAKU,yBAAL,CAA+BV,KAA/B,EAAsC,OAAKjL,OAA3C;AACD,OAHH,EAIG4L,IAJH,CAIQ,UAACX,KAAD,EAAW;AACf,eAAKY,2BAAL,CAAiCZ,KAAjC,EAAwC,OAAKjL,OAA7C;AACD,OANH;AAOD;;;;;;QAGKiH,U,GAAAA,U","file":"fib2.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8c3d0a2f1e3a0555a296","import fib2TemplateRef from '../../html/fib2.html';\n\nexport const Constants = {\n  TEMPLATES: {\n    FIB2: fib2TemplateRef\n  },\n  THEMES: {\n    FIB2: 'fib2',\n    FIB2_LIGHT: 'fib2-light',\n    FIB2_DARK: 'fib2-dark'\n  },\n  LAYOUT_COLOR: {\n    'BG': {\n      'FIB2': '#FFFFFF',\n      'FIB2_LIGHT': '#f6f6f6',\n      'FIB2_DARK': '#222222'\n    }\n  },\n  INTERACTION_REFERENCE_STR: 'http://www.comprodls.com/m1.0/interaction/fib2',\n  STATEMENT_STARTED: 'started',\n  STATEMENT_ANSWERED: 'answered',\n  STATEMENT_INTERACTED: 'interacted',\n  STATEMENT_SUBMITTED: 'submitted',\n  STATUS_NOERROR: 'NO_ERROR'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/fib-engine/constant.js","(function() {\n  // Public sightglass interface.\n  function sightglass(obj, keypath, callback, options) {\n    return new Observer(obj, keypath, callback, options)\n  }\n\n  // Batteries not included.\n  sightglass.adapters = {}\n\n  // Constructs a new keypath observer and kicks things off.\n  function Observer(obj, keypath, callback, options) {\n    this.options = options || {}\n    this.options.adapters = this.options.adapters || {}\n    this.obj = obj\n    this.keypath = keypath\n    this.callback = callback\n    this.objectPath = []\n    this.update = this.update.bind(this)\n    this.parse()\n\n    if (isObject(this.target = this.realize())) {\n      this.set(true, this.key, this.target, this.callback)\n    }\n  }\n\n  // Tokenizes the provided keypath string into interface + path tokens for the\n  // observer to work with.\n  Observer.tokenize = function(keypath, interfaces, root) {\n    var tokens = []\n    var current = {i: root, path: ''}\n    var index, chr\n\n    for (index = 0; index < keypath.length; index++) {\n      chr = keypath.charAt(index)\n\n      if (!!~interfaces.indexOf(chr)) {\n        tokens.push(current)\n        current = {i: chr, path: ''}\n      } else {\n        current.path += chr\n      }\n    }\n\n    tokens.push(current)\n    return tokens\n  }\n\n  // Parses the keypath using the interfaces defined on the view. Sets variables\n  // for the tokenized keypath as well as the end key.\n  Observer.prototype.parse = function() {\n    var interfaces = this.interfaces()\n    var root, path\n\n    if (!interfaces.length) {\n      error('Must define at least one adapter interface.')\n    }\n\n    if (!!~interfaces.indexOf(this.keypath[0])) {\n      root = this.keypath[0]\n      path = this.keypath.substr(1)\n    } else {\n      if (typeof (root = this.options.root || sightglass.root) === 'undefined') {\n        error('Must define a default root adapter.')\n      }\n\n      path = this.keypath\n    }\n\n    this.tokens = Observer.tokenize(path, interfaces, root)\n    this.key = this.tokens.pop()\n  }\n\n  // Realizes the full keypath, attaching observers for every key and correcting\n  // old observers to any changed objects in the keypath.\n  Observer.prototype.realize = function() {\n    var current = this.obj\n    var unreached = false\n    var prev\n\n    this.tokens.forEach(function(token, index) {\n      if (isObject(current)) {\n        if (typeof this.objectPath[index] !== 'undefined') {\n          if (current !== (prev = this.objectPath[index])) {\n            this.set(false, token, prev, this.update)\n            this.set(true, token, current, this.update)\n            this.objectPath[index] = current\n          }\n        } else {\n          this.set(true, token, current, this.update)\n          this.objectPath[index] = current\n        }\n\n        current = this.get(token, current)\n      } else {\n        if (unreached === false) {\n          unreached = index\n        }\n\n        if (prev = this.objectPath[index]) {\n          this.set(false, token, prev, this.update)\n        }\n      }\n    }, this)\n\n    if (unreached !== false) {\n      this.objectPath.splice(unreached)\n    }\n\n    return current\n  }\n\n  // Updates the keypath. This is called when any intermediary key is changed.\n  Observer.prototype.update = function() {\n    var next, oldValue\n\n    if ((next = this.realize()) !== this.target) {\n      if (isObject(this.target)) {\n        this.set(false, this.key, this.target, this.callback)\n      }\n\n      if (isObject(next)) {\n        this.set(true, this.key, next, this.callback)\n      }\n\n      oldValue = this.value()\n      this.target = next\n\n      // Always call callback if value is a function. If not a function, call callback only if value changed\n      if (this.value() instanceof Function || this.value() !== oldValue) this.callback()\n    }\n  }\n\n  // Reads the current end value of the observed keypath. Returns undefined if\n  // the full keypath is unreachable.\n  Observer.prototype.value = function() {\n    if (isObject(this.target)) {\n      return this.get(this.key, this.target)\n    }\n  }\n\n  // Sets the current end value of the observed keypath. Calling setValue when\n  // the full keypath is unreachable is a no-op.\n  Observer.prototype.setValue = function(value) {\n    if (isObject(this.target)) {\n      this.adapter(this.key).set(this.target, this.key.path, value)\n    }\n  }\n\n  // Gets the provided key on an object.\n  Observer.prototype.get = function(key, obj) {\n    return this.adapter(key).get(obj, key.path)\n  }\n\n  // Observes or unobserves a callback on the object using the provided key.\n  Observer.prototype.set = function(active, key, obj, callback) {\n    var action = active ? 'observe' : 'unobserve'\n    this.adapter(key)[action](obj, key.path, callback)\n  }\n\n  // Returns an array of all unique adapter interfaces available.\n  Observer.prototype.interfaces = function() {\n    var interfaces = Object.keys(this.options.adapters)\n\n    Object.keys(sightglass.adapters).forEach(function(i) {\n      if (!~interfaces.indexOf(i)) {\n        interfaces.push(i)\n      }\n    })\n\n    return interfaces\n  }\n\n  // Convenience function to grab the adapter for a specific key.\n  Observer.prototype.adapter = function(key) {\n    return this.options.adapters[key.i] ||\n      sightglass.adapters[key.i]\n  }\n\n  // Unobserves the entire keypath.\n  Observer.prototype.unobserve = function() {\n    var obj\n\n    this.tokens.forEach(function(token, index) {\n      if (obj = this.objectPath[index]) {\n        this.set(false, token, obj, this.update)\n      }\n    }, this)\n\n    if (isObject(this.target)) {\n      this.set(false, this.key, this.target, this.callback)\n    }\n  }\n\n  // Check if a value is an object than can be observed.\n  function isObject(obj) {\n    return typeof obj === 'object' && obj !== null\n  }\n\n  // Error thrower.\n  function error(message) {\n    throw new Error('[sightglass] ' + message)\n  }\n\n  // Export module for Node and the browser.\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = sightglass\n  } else if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return this.sightglass = sightglass\n    })\n  } else {\n    this.sightglass = sightglass\n  }\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/sightglass/index.js\n// module id = 1\n// module chunks = 0","/* global $ */\n\nimport generateStatement from '../utils';\nimport {Constants} from './constant';\nimport {Config} from './config';\n\nconst getAnswersJSON = Symbol('getAnswersJSON');\nconst getFibsrAnswersJSON = Symbol('getFibsrAnswersJSON');\nconst getUserAnswersStats = Symbol('getUserAnswersStats');\nconst markInput = Symbol('markInput');\nconst buildFeedbackResponse = Symbol('buildFeedbackResponse');\n\nconst __state = {\n  currentTries: 0, /* Current try of sending results to platform */\n  activityPartiallySubmitted: false, /* State whether activity has been partially submitted. Possible Values: true/false(Boolean) */\n  activitySubmitted: false /* State whether activity has been submitted. Possible Values: true/false(Boolean) */\n};\n\nclass Fib2ResponseProcessor {\n  constructor(fib2Obj) {\n    this.fib2Obj = fib2Obj;\n  }\n\n  /**\n   * Function called to send result JSON to adaptor (partial save OR submit).\n   */\n  saveResults(bSubmit) {\n    /*Getting answer in JSON format*/\n    const answerJSONs = this[getAnswersJSON](false);\n    const uniqueId = this.fib2Obj.adaptor.getId();\n\n    /* Disabling entry(input) boxes on click of Submit. */\n    $('.userAnswer').attr('disabled', true);\n    $('label.input').addClass('state-disabled');\n\n    answerJSONs.forEach((answerJSON, idx) => {\n      /* User clicked the Submit button*/\n      if (bSubmit === true) {\n        answerJSON.statusProgress = 'attempted';\n        /*Send Results to platform*/\n        this.fib2Obj.adaptor.submitResults(answerJSON, uniqueId, (data, status) => {\n          if (status === Constants.STATUS_NOERROR) {\n            __state.activitySubmitted = true;\n            /*Close platform's session*/\n            this.fib2Obj.adaptor.closeActivity();\n            __state.currentTries = 0;\n          } else {\n            /* There was an error during platform communication, so try again (till MAX_RETRIES) */\n            if (__state.currentTries < Config.MAX_RETRIES) {\n              __state.currentTries++;\n              this.saveResults(bSubmit);\n            }\n          }\n        });\n      }\n    });\n  }\n\n  savePartial(interactionId) {\n    /*Getting answer in JSON format*/\n    const answerJSONs = this[getAnswersJSON](false);\n    const uniqueId = this.fib2Obj.adaptor.getId();\n\n    this.fib2Obj.adaptor.sendStatement(uniqueId, generateStatement(Constants.STATEMENT_INTERACTED));\n\n    answerJSONs.forEach((answerJSON, idx) => {\n      this.fib2Obj.adaptor.savePartialResults(answerJSON, uniqueId, function (data, status) {\n        if (status === Constants.STATUS_NOERROR) {\n          __state.activityPariallySubmitted = true;\n        } else {\n          // There was an error during platform communication, do nothing for partial saves\n        }\n      });\n    });\n  }\n\n  /**\n   *  Function used to create JSON from user Answers for submit(soft/hard).\n   *  Called by :-\n   *   1. saveResult or savePartial (internal).\n   *   2. Multi-item-handler (external).\n   *   3. Divide the maximum marks among interaction.\n   *   4. Returns result objects.  [{ id: interactionId,  answer: answer,   score: score, maxscore: maximumScore }]\n   */\n  [getAnswersJSON](skipQuestion, interactionId) {\n    let response = [];\n    let fibsrAns;\n\n    fibsrAns = this[getFibsrAnswersJSON]();\n    response.push(fibsrAns);\n\n    return response;\n  }\n\n  [getFibsrAnswersJSON]() {\n    const maxScore = this.fib2Obj.jsonContent.meta.score.max;\n    const perInteractionScore = maxScore / this.fib2Obj.fib2Model.interactionIds.length;\n    let resultArray = [];\n    let feedback;\n    let statusEvaluation = 'empty';\n    let isUserAnswerCorrect = false;\n    let countCorrectInteractionAttempt = 0;\n    let isAllInteractionsEmpty = true;\n\n    this.fib2Obj.fib2Model.interactionIds.forEach((id, index) => {\n      let score = 0;\n\n      if (this.fib2Obj.userAnswers.hasOwnProperty(id)) {\n        if (this.fib2Obj.userAnswers[id].length === this.fib2Obj.fib2Model.responses[id]['correct'].length) {\n          let correctAnswer = this.fib2Obj.fib2Model.responses[id]['correct'];\n          let userAnswer = this.fib2Obj.userAnswers[id];\n\n          if (userAnswer === correctAnswer) {\n            score = perInteractionScore;\n            isAllInteractionsEmpty = false;\n          } else if (userAnswer !== undefined && userAnswer !== '') {\n            isAllInteractionsEmpty = false;\n          }\n          countCorrectInteractionAttempt++;\n          isUserAnswerCorrect = true;\n        }\n      }\n\n      resultArray.push({\n        id,\n        score,\n        answer: this.fib2Obj.userAnswers[id] || '',\n        maxScore: perInteractionScore\n      });\n    });\n\n    if (isUserAnswerCorrect) {\n      statusEvaluation = 'correct';\n      feedback = this[buildFeedbackResponse]('global.correct', 'correct', this.fib2Obj.fib2Model.feedback.global.correct);\n    } else if (countCorrectInteractionAttempt === 0) {\n      statusEvaluation = 'incorrect';\n      if (isAllInteractionsEmpty) {\n        feedback = this[buildFeedbackResponse]('global.empty', statusEvaluation, this.fib2Obj.fib2Model.feedback.global.empty);\n      } else {\n        feedback = this[buildFeedbackResponse]('global.incorrect', statusEvaluation, this.fib2Obj.fib2Model.feedback.global.incorrect);\n      }\n    } else {\n      statusEvaluation = 'partially_correct';\n      feedback = this[buildFeedbackResponse]('global.incorrect', 'incorrect', this.fib2Obj.fib2Model.global.incorrect);\n    }\n\n    return {\n      response: {\n        'interactions': resultArray,\n        'statusEvaluation': statusEvaluation,\n        feedback\n      }\n    };\n  }\n\n  [getUserAnswersStats]() {\n    const questions = this.fib2Obj.fib2Model.questionData;\n    const totalInteractions = this.fib2Obj.fib2Model.interactionIds.length;\n    const totalQuestions = this.fib2Obj.fib2Model.questionData.length;\n    let countCorrectQuestionAttempt = 0;\n    let countIncorrectQuestionAttempt = 0;\n    let countCorrectInteractionsAttempt = 0;\n    let countIncorrectInteractionsAttempt = 0;\n    let isAllInteractionsEmpty = true;\n\n    questions.forEach((question, index) => {\n      let isQuestionCorrect = true;\n\n      question.interactions.forEach((interactionId) => {\n        let correctAnswer = this.fib2Obj.fib2Model.responses[interactionId].correct;\n        let userAnswer = this.fib2Obj.userAnswers[interactionId];\n\n        if (this.fib2Obj.fib2Model.responses[interactionId].ignorecase) {\n          correctAnswer = correctAnswer.toLowerCase();\n          userAnswer = correctAnswer.toLowerCase();\n        }\n\n        if (this.fib2Obj.fib2Model.responses[interactionId].ignorewhitespace) {\n          correctAnswer = correctAnswer.replace(/ /g, '')();\n          userAnswer = correctAnswer.replace(/ /g, '')();\n        }\n\n        if (userAnswer !== correctAnswer) {\n          isQuestionCorrect = false;\n          if (userAnswer !== undefined && userAnswer !== '') {\n            isAllInteractionsEmpty = false;\n          }\n          countIncorrectQuestionAttempt += 1;\n        } else {\n          isAllInteractionsEmpty = false;\n          countCorrectInteractionsAttempt += 1;\n        }\n      });\n\n      if (isQuestionCorrect) {\n        countCorrectQuestionAttempt += 1;\n      } else {\n        countIncorrectQuestionAttempt += 1;\n      }\n    });\n\n    return {\n      totalInteractions,\n      countIncorrectInteractionsAttempt,\n      countCorrectInteractionsAttempt,\n      totalQuestions,\n      countCorrectQuestionAttempt,\n      countIncorrectQuestionAttempt,\n      isAllInteractionsEmpty\n    };\n  }\n\n  static getState() {\n    return __state;\n  }\n\n  static resetView(persistUserAnswers = false) {\n\n    $('label.question')\n      .removeClass('state-disabled');\n\n    $('.userAnswer').each(function () {\n      if (!persistUserAnswers) {\n        $(this).val('');\n      }\n      $(this).removeClass('wrongAnswer correctAnswer')\n        .attr('disabled', false);\n    });\n\n    $('[id^=\"answer\"]')\n      .removeClass('correct wrong')\n      .addClass('invisible')\n      .next('label')\n      .removeClass('state-success state-error');\n\n    $('.grade').remove();\n  }\n\n  markAnswers() {\n    this[markInput]();\n    this.fib2Obj.adaptor.autoResizeActivityIframe();\n  }\n\n  [markInput]() {\n    const questions = this.fib2Obj.fib2Model.questionData;\n\n    questions.forEach((question, index) => {\n      let isQuestionCorrect = true;\n\n      question.interactions.forEach((interactionId) => {\n        let userAnswer = this.fib2Obj.userAnswers[interactionId];\n        let correctAnswer = this.fib2Obj.fib2Model.responses[interactionId].correct;\n\n        if (userAnswer !== correctAnswer) {\n          isQuestionCorrect = false;\n          $('#' + interactionId)\n            .addClass('wrongAnswer')\n            .removeClass('correctAnswer')\n            .attr('disabled', true)\n            .parent()\n            .after(`<span class=\"grade\" style=\"color:green;font-weight: bold\"> (${correctAnswer})</span>`);\n        } else {\n          $('#' + interactionId)\n            .addClass('correctAnswer')\n            .removeClass('wrongAnswer')\n            .attr('disabled', true);\n        }\n      });\n\n      if (isQuestionCorrect) {\n        $('#answer' + index).next('label').addClass('state-success');\n        $('#answer' + index)\n          .addClass('correct')\n          .removeClass('wrong')\n          .removeClass('invisible');\n      } else {\n        $('#answer' + index).next('label').addClass('state-error');\n        $('#answer' + index)\n          .addClass('wrong')\n          .removeClass('correct')\n          .removeClass('invisible');\n      }\n    });\n  }\n\n  [buildFeedbackResponse](id, status, content) {\n    var feedback = {};\n\n    feedback.id = id;\n    feedback.status = status;\n    feedback.content = content;\n    return feedback;\n  }\n\n  feedbackProcessor() {\n    const type = this.fib2Obj.fib2Model.type;\n    const stats = this[getUserAnswersStats]();\n\n    this.fib2Obj.fib2Model.feedbackState.correct = false;\n    this.fib2Obj.fib2Model.feedbackState.incorrect = false;\n    this.fib2Obj.fib2Model.feedbackState.partiallyCorrect = false;\n    this.fib2Obj.fib2Model.feedbackState.partiallyIncorrect = false;\n    this.fib2Obj.fib2Model.feedbackState.empty = false;\n\n    if (type === 'FIBSR') {\n      if (stats.isAllInteractionsEmpty) {\n        this.fib2Obj.fib2Model.feedbackState.empty = true;\n      } else if (stats.totalQuestions === stats.countCorrectQuestionAttempt && stats.totalInteractions === stats.countCorrectInteractionsAttempt) {\n        this.fib2Obj.fib2Model.feedbackState.correct = true;\n      } else if (stats.countCorrectQuestionAttempt >= (Math.floor(stats.totalQuestions / 2))) {\n        this.fib2Obj.fib2Model.feedbackState.partiallyCorrect = true;\n      } else if (stats.countIncorrectQuestionAttempt >= (Math.floor(stats.totalQuestions / 2))) {\n        this.fib2Obj.fib2Model.feedbackState.partiallyIncorrect = true;\n      } else if (stats.countCorrectQuestionAttempt === 0) {\n        this.fib2Obj.fib2Model.feedbackState.incorrect = true;\n      }\n    }\n\n    this.fib2Obj.adaptor.autoResizeActivityIframe();\n  }\n\n}\n\nexport {Fib2ResponseProcessor};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/fib-engine/fib2.responseProcess.js","/**\n * Function to generate XAPI statements.\n */\nexport default function generateStatement(verb) {\n  return {\n    'timestamp': new Date(),\n    'verb': {\n      'id': verb\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils.js","export const Config = {\n  MAX_RETRIES: 10 /* Maximum number of retries for sending results to platform for a particular activity. */\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/fib-engine/config.js","import fib2 from './fib-engine/fib2';\r\n\r\nexport { fib2 };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","/* global $ */\n\nimport {FIB2Transformer} from './fib2.transformer';\nimport {Fib2ModelAndView} from './fib2.modelview';\nimport {Fib2Events} from './fib2.events';\nimport {Fib2ResponseProcessor} from './fib2.responseProcess';\nimport generateStatement from '../utils';\nimport {Constants} from './constant';\nimport {Config} from './config';\n\nconst load = Symbol('loadMCQ');\nconst transform = Symbol('transformMCQ');\nconst renderView = Symbol('renderMCQ');\nconst bindEvents = Symbol('bindEvents');\nlet fib2ModelAndView;\n\n/**\n *  Engine initialization Class. Provides public functions\n *  -getConfig()\n *  -getStatus()\n */\n\nclass fib2 {\n\n  /**  ENGINE-SHELL CONSTRUCTOR FUNCTION\n   *   @constructor\n   *   @param {String} elRoot - DOM Element reference where the engine should paint itself.\n   *   @param {Object} params - Startup params passed by platform. Include the following sets of parameters:\n   *                                      (a) State (Initial launch / Resume / Gradebook mode ).\n   *                   (b) TOC parameters (contentFile, layout, etc.).\n   *   @param {Object} adaptor - An adaptor interface for communication with platform (__saveResults, closeActivity, savePartialResults, getLastResults, etc.).\n   *   @param {String} htmlLayout - Activity HTML layout (as defined in the TOC LINK paramter).\n   *   @param {Object} jsonContentObj - Activity JSON content (as defined in the TOC LINK paramter).\n   *   @param {Function} callback - To inform the shell that init is complete.\n   */\n\n  constructor(elRoot, params, adaptor, htmlLayout, jsonContentObj, callback) {\n    adaptor.sendStatement(adaptor.getId(), generateStatement(Constants.STATEMENT_STARTED));\n    this.elRoot = elRoot;\n    this.params = params;\n    this.adaptor = adaptor;\n    this.theme = htmlLayout;\n    this.jsonContent = jsonContentObj;\n    this.userAnswers = {};\n    this[load]();\n    if (callback) {\n      callback({\n        backgroundColor: Constants.LAYOUT_COLOR.BG[htmlLayout],\n        fontFamily: 'open-sans-font'\n      });\n    }\n  }\n\n  [load]() {\n    this[transform]();\n    this[renderView]();\n    this[bindEvents]();\n  }\n\n  [transform]() {\n    let mcqTransformer = new FIB2Transformer(this.jsonContent, this.params, this.theme);\n\n    this.fib2Model = mcqTransformer.transform();\n  }\n\n  [renderView]() {\n    fib2ModelAndView = new Fib2ModelAndView(this.fib2Model);\n\n    $(this.elRoot).html(fib2ModelAndView.template);\n    fib2ModelAndView.bindData();\n  }\n\n  [bindEvents]() {\n    let fib2Events = new Fib2Events(this);\n\n    fib2Events.bindEvents();\n  }\n\n  /**\n   * Bound to click of Activity submit button.\n   */\n  handleSubmit() {\n    let fib2ResponseProcessor = new Fib2ResponseProcessor(this);\n\n    /* Saving Answers. */\n    fib2ResponseProcessor.saveResults(true);\n    this.adaptor.sendStatement(this.adaptor.getId(), generateStatement(Constants.STATEMENT_SUBMITTED));\n  }\n\n  /**\n   * ENGINE-SHELL Interface\n   * @return {{MAX_RETRIES}} - Configuration\n   */\n  getConfig() {\n    return Config;\n  }\n\n  /**\n   * ENGINE-SHELL Interface\n   * @return {Boolean} - The current state (Activity Submitted/ Partial Save State.) of activity.\n   */\n  getStatus() {\n    let state = Fib2ResponseProcessor.getState();\n\n    return state.activityPartiallySubmitted || state.activitySubmitted;\n  }\n\n  resetAnswers() {\n    this.userAnswers = [];\n    Fib2ResponseProcessor.resetView();\n  }\n\n  showGrades() {\n    let fib2ResponseProcessor = new Fib2ResponseProcessor(this);\n\n    $('label.question').addClass('state-disabled');\n    fib2ResponseProcessor.markAnswers();\n  }\n\n  showFeedback() {\n    let fib2ResponseProcessor = new Fib2ResponseProcessor(this);\n\n    fib2ResponseProcessor.feedbackProcessor();\n  }\n\n  clearGrades() {\n    Fib2ResponseProcessor.resetView(true);\n    fib2ModelAndView.clearGrades();\n  }\n}\n\nexport default fib2;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/fib-engine/fib2.js","/* global $ */\n\nimport {Constants} from './constant';\n\nconst buildModelandViewContent = Symbol('ModelandViewContent');\nconst setTheme = Symbol('engine-theme');\nconst setType = Symbol('setType');\nconst setInteractions = Symbol('setInteractions');\nconst setStimuli = Symbol('setStimuli');\nconst setInstructions = Symbol('setInstructions');\nconst setFeedback = Symbol('setFeedback');\nconst setScoring = Symbol('setScoring');\nconst setResponses = Symbol('setResponses');\n\nconst INTERACTION_REFERENCE_STR = Constants.INTERACTION_REFERENCE_STR;\n\nclass FIB2Transformer {\n  constructor(entity, params, themeObj) {\n    this.entity = entity;\n    this.themeObj = themeObj;\n    this.fib2Model = {\n      instructions: [],\n      questionData: [],\n      stimuli: [],\n      scoring: {},\n      feedback: {},\n      feedbackState: {\n        'correct': false,\n        'partiallyCorrect': false,\n        'incorrect': false,\n        'partiallyIncorrect': false,\n        'empty': false\n      },\n      responses: {},\n      type: '',\n      theme: '',\n      interactionIds: []\n    };\n  }\n\n  transform() {\n    this[buildModelandViewContent]();\n    return this.fib2Model;\n  }\n\n  [buildModelandViewContent]() {\n    this[setTheme](this.themeObj);\n    this[setInteractions]();\n    this[setType]();\n    this[setStimuli]();\n    this[setInstructions]();\n    this[setFeedback]();\n    this[setScoring]();\n    this[setResponses]();\n  }\n\n  [setTheme](themeKey) {\n    this.fib2Model.theme = Constants.THEMES[themeKey];\n  }\n\n  [setType]() {\n    this.fib2Model.type = this.entity.meta.type;\n  }\n\n  [setInstructions]() {\n    this.fib2Model.instructions = this.entity.content.instructions.map(function (element) {\n      return {\n        text: element[element['tag']]\n      };\n    });\n  }\n\n  [setInteractions]() {\n    let entity = this.entity;\n    let _self = this;\n\n    this.fib2Model.questionData = entity.content.canvas.data.questiondata.map((element, index) => {\n      let obj = {};\n      let parsedQuestionArray = $('<div>' + element['text'] + '</div>');\n      let interactionsReferences = $(parsedQuestionArray).find('a[href=\\'' + INTERACTION_REFERENCE_STR + '\\']');\n\n      obj.interactions = [];\n      obj.types = [];\n      obj.numberOfInteractions = 0;\n      interactionsReferences.each(function (idx) {\n        let currinteractionid = $(this).text().trim();\n        let newchild = $(`<span  class='input answer'><input type='text' id='${currinteractionid}' class='userAnswer'/></span>`)[0];\n\n        $(this).replaceWith(newchild);\n        obj.interactions.push(currinteractionid);\n        obj.numberOfInteractions += 1;\n        obj.types.push(entity.content.interactions[currinteractionid]);\n        _self.fib2Model.interactionIds.push(currinteractionid);\n      });\n\n      obj.questionText = parsedQuestionArray[0].innerHTML;\n      return obj;\n    });\n  }\n\n  [setResponses]() {\n    this.fib2Model.responses = this.entity.responses;\n  }\n\n  [setStimuli]() {\n    this.fib2Model.stimuli = this.entity.content.stimulus.map(function (element) {\n      let tagtype = element['tag'];\n      let obj;\n\n      if (tagtype) {\n        obj = {'src': element[tagtype]};\n        obj[tagtype] = true;\n      }\n      if (!obj) {\n        obj = element;\n      }\n      return obj;\n    });\n  }\n\n  [setFeedback]() {\n    this.fib2Model.feedback = this.entity.feedback;\n  }\n\n  [setScoring]() {\n    this.fib2Model.scoring = this.entity.meta.score;\n  }\n}\n\nexport {FIB2Transformer};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/fib-engine/fib2.transformer.js","module.exports = \"<!-- Engine Renderer Template -->\\n<div class=\\\"fib2-body\\\" id=\\\"fib2-engine\\\">\\n  <main rv-addclass='content.theme'>\\n    <section class=\\\"instructions\\\">\\n      <p class=\\\"instruction\\\" rv-each-instruction=\\\"content.instructions\\\" rv-text-parse=\\\"instruction.text\\\"></p>\\n    </section>\\n\\n    <section class=\\\"smart-form inline-input\\\">\\n      <ol>\\n        <li rv-each-question=\\\"content.questionData\\\" class=\\\"question-li\\\">\\n          <span class=\\\"invisible pull-left\\\" rv-answer-id=\\\"index\\\"></span>\\n          <label class=\\\"question\\\">\\n            <span rv-text-parse=\\\"question.questionText\\\"></span>\\n          </label>\\n        </li>\\n      </ol>\\n    </section>\\n\\n    <section class=\\\"feedback\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-sm-12 col-md-12\\\">\\n          <div class=\\\"alert alert-success align-2-item\\\" role=\\\"alert\\\" rv-show=\\\"content.feedbackState.correct\\\">\\n            <span>\\n              <i class=\\\"fa fa-2x fa-smile-o\\\" style=\\\"vertical-align: middle\\\"></i>&nbsp;</span>\\n            <span rv-text=\\\"content.feedback.global.correct\\\" style=\\\"vertical-align: middle\\\"></span>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-sm-12 col-md-12\\\">\\n          <div class=\\\"alert alert-danger align-2-item\\\" role=\\\"alert\\\" rv-show=\\\"content.feedbackState.incorrect\\\">\\n            <span>\\n              <i class=\\\"fa fa-2x fa-meh-o\\\" style=\\\"vertical-align: middle\\\"></i>\\n            </span>&nbsp;\\n            <span rv-text=\\\"content.feedback.global.incorrect\\\" style=\\\"vertical-align: middle\\\"></span>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-sm-12 col-md-12\\\">\\n          <div class=\\\"alert alert-danger align-2-item\\\" role=\\\"alert\\\" rv-show=\\\"content.feedbackState.partiallyCorrect\\\">\\n            <span>\\n              <i class=\\\"fa fa-2x fa-meh-o\\\" style=\\\"vertical-align: middle\\\"></i>\\n            </span>&nbsp;\\n            <span rv-text=\\\"content.feedback.global.partiallyCorrect\\\" style=\\\"vertical-align: middle\\\"></span>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-sm-12 col-md-12\\\">\\n          <div class=\\\"alert alert-danger align-2-item\\\" role=\\\"alert\\\" rv-show=\\\"content.feedbackState.partiallyIncorrect\\\">\\n            <span>\\n              <i class=\\\"fa fa-2x fa-meh-o\\\" style=\\\"vertical-align: middle\\\"></i>\\n            </span>&nbsp;\\n            <span rv-text=\\\"content.feedback.global.partiallyIncorrect\\\" style=\\\"vertical-align: middle\\\"></span>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-sm-6 col-md-6\\\">\\n          <div class=\\\"alert alert-warning align-2-item\\\" role=\\\"alert\\\" rv-show=\\\"content.feedbackState.empty\\\">\\n            <span>\\n              <i class=\\\"fa fa-2x fa-meh-o\\\" style=\\\"vertical-align: middle\\\"></i>&nbsp;</span>\\n            <span rv-text=\\\"content.feedback.global.empty\\\" style=\\\"vertical-align: middle\\\"></span>\\n          </div>\\n        </div>\\n      </div>\\n\\n    </section>\\n  </main>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/html/fib2.html\n// module id = 8\n// module chunks = 0","/* global $ */\n\nimport {Constants} from './constant';\n\nimport rivets from 'rivets';\nimport '../../scss/index.scss';\n\nconst initializeRivets = Symbol('initializeRivets');\n\nclass Fib2ModelAndView {\n  constructor(fib2Model) {\n    this.model = fib2Model;\n  }\n\n  get template() {\n    return Constants.TEMPLATES.FIB2;\n  }\n\n  get themes() {\n    return Constants.THEMES;\n  }\n\n  clearGrades() {\n    this.model.feedbackState = {\n      'correct': false,\n      'incorrect': false,\n      'empty': false\n    };\n  }\n\n  bindData() {\n    this[initializeRivets]();\n  }\n\n  [initializeRivets]() {\n    rivets.formatters.propertyList = function (obj) {\n      return (function () {\n        let properties = [];\n\n        const keys = Object.keys(obj);\n\n        for (const key of keys) {\n          properties.push({key: key, value: obj[key]});\n        }\n\n        return properties;\n      })();\n    };\n\n    rivets.binders['src-strict'] = function (el, value) {\n      var img = new Image();\n\n      img.onload = function () {\n        $(el).attr('src', value);\n      };\n\n      img.src = value;\n    };\n\n    rivets.binders.addclass = function (el, value) {\n      if (el.addedClass) {\n        $(el).removeClass(el.addedClass);\n        delete el.addedClass;\n      }\n      if (value) {\n        $(el).addClass(value);\n        el.addedClass = value;\n      }\n    };\n\n    rivets.binders['text-parse'] = function (el, value) {\n      let innerHtml = $(`<div>${value}</div>`)[0].innerHTML;\n\n      $(el).html(innerHtml);\n    };\n\n    rivets.binders['answer-id'] = function (el, value) {\n      el.id = 'answer' + value;\n    };\n\n    let data = {\n      content: this.model\n    };\n\n    /*Bind the data to template using rivets*/\n    rivets.bind($('#fib2-engine'), data);\n  }\n}\n\nexport {Fib2ModelAndView};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/fib-engine/fib2.modelview.js","// Rivets.js\n// version: 0.9.6\n// author: Michael Richards\n// license: MIT\n(function() {\n  var Rivets, bindMethod, jQuery, unbindMethod, _ref,\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    __slice = [].slice,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n  Rivets = {\n    options: ['prefix', 'templateDelimiters', 'rootInterface', 'preloadData', 'handler', 'executeFunctions'],\n    extensions: ['binders', 'formatters', 'components', 'adapters'],\n    \"public\": {\n      binders: {},\n      components: {},\n      formatters: {},\n      adapters: {},\n      prefix: 'rv',\n      templateDelimiters: ['{', '}'],\n      rootInterface: '.',\n      preloadData: true,\n      executeFunctions: false,\n      iterationAlias: function(modelName) {\n        return '%' + modelName + '%';\n      },\n      handler: function(context, ev, binding) {\n        return this.call(context, ev, binding.view.models);\n      },\n      configure: function(options) {\n        var descriptor, key, option, value;\n        if (options == null) {\n          options = {};\n        }\n        for (option in options) {\n          value = options[option];\n          if (option === 'binders' || option === 'components' || option === 'formatters' || option === 'adapters') {\n            for (key in value) {\n              descriptor = value[key];\n              Rivets[option][key] = descriptor;\n            }\n          } else {\n            Rivets[\"public\"][option] = value;\n          }\n        }\n      },\n      bind: function(el, models, options) {\n        var view;\n        if (models == null) {\n          models = {};\n        }\n        if (options == null) {\n          options = {};\n        }\n        view = new Rivets.View(el, models, options);\n        view.bind();\n        return view;\n      },\n      init: function(component, el, data) {\n        var scope, template, view;\n        if (data == null) {\n          data = {};\n        }\n        if (el == null) {\n          el = document.createElement('div');\n        }\n        component = Rivets[\"public\"].components[component];\n        template = component.template.call(this, el);\n        if (template instanceof HTMLElement) {\n          while (el.firstChild) {\n            el.removeChild(el.firstChild);\n          }\n          el.appendChild(template);\n        } else {\n          el.innerHTML = template;\n        }\n        scope = component.initialize.call(this, el, data);\n        view = new Rivets.View(el, scope);\n        view.bind();\n        return view;\n      }\n    }\n  };\n\n  if (window['jQuery'] || window['$']) {\n    jQuery = window['jQuery'] || window['$'];\n    _ref = 'on' in jQuery.prototype ? ['on', 'off'] : ['bind', 'unbind'], bindMethod = _ref[0], unbindMethod = _ref[1];\n    Rivets.Util = {\n      bindEvent: function(el, event, handler) {\n        return jQuery(el)[bindMethod](event, handler);\n      },\n      unbindEvent: function(el, event, handler) {\n        return jQuery(el)[unbindMethod](event, handler);\n      },\n      getInputValue: function(el) {\n        var $el;\n        $el = jQuery(el);\n        if ($el.attr('type') === 'checkbox') {\n          return $el.is(':checked');\n        } else {\n          return $el.val();\n        }\n      }\n    };\n  } else {\n    Rivets.Util = {\n      bindEvent: (function() {\n        if ('addEventListener' in window) {\n          return function(el, event, handler) {\n            return el.addEventListener(event, handler, false);\n          };\n        }\n        return function(el, event, handler) {\n          return el.attachEvent('on' + event, handler);\n        };\n      })(),\n      unbindEvent: (function() {\n        if ('removeEventListener' in window) {\n          return function(el, event, handler) {\n            return el.removeEventListener(event, handler, false);\n          };\n        }\n        return function(el, event, handler) {\n          return el.detachEvent('on' + event, handler);\n        };\n      })(),\n      getInputValue: function(el) {\n        var o, _i, _len, _results;\n        if (el.type === 'checkbox') {\n          return el.checked;\n        } else if (el.type === 'select-multiple') {\n          _results = [];\n          for (_i = 0, _len = el.length; _i < _len; _i++) {\n            o = el[_i];\n            if (o.selected) {\n              _results.push(o.value);\n            }\n          }\n          return _results;\n        } else {\n          return el.value;\n        }\n      }\n    };\n  }\n\n  Rivets.TypeParser = (function() {\n    function TypeParser() {}\n\n    TypeParser.types = {\n      primitive: 0,\n      keypath: 1\n    };\n\n    TypeParser.parse = function(string) {\n      if (/^'.*'$|^\".*\"$/.test(string)) {\n        return {\n          type: this.types.primitive,\n          value: string.slice(1, -1)\n        };\n      } else if (string === 'true') {\n        return {\n          type: this.types.primitive,\n          value: true\n        };\n      } else if (string === 'false') {\n        return {\n          type: this.types.primitive,\n          value: false\n        };\n      } else if (string === 'null') {\n        return {\n          type: this.types.primitive,\n          value: null\n        };\n      } else if (string === 'undefined') {\n        return {\n          type: this.types.primitive,\n          value: void 0\n        };\n      } else if (string === '') {\n        return {\n          type: this.types.primitive,\n          value: void 0\n        };\n      } else if (isNaN(Number(string)) === false) {\n        return {\n          type: this.types.primitive,\n          value: Number(string)\n        };\n      } else {\n        return {\n          type: this.types.keypath,\n          value: string\n        };\n      }\n    };\n\n    return TypeParser;\n\n  })();\n\n  Rivets.TextTemplateParser = (function() {\n    function TextTemplateParser() {}\n\n    TextTemplateParser.types = {\n      text: 0,\n      binding: 1\n    };\n\n    TextTemplateParser.parse = function(template, delimiters) {\n      var index, lastIndex, lastToken, length, substring, tokens, value;\n      tokens = [];\n      length = template.length;\n      index = 0;\n      lastIndex = 0;\n      while (lastIndex < length) {\n        index = template.indexOf(delimiters[0], lastIndex);\n        if (index < 0) {\n          tokens.push({\n            type: this.types.text,\n            value: template.slice(lastIndex)\n          });\n          break;\n        } else {\n          if (index > 0 && lastIndex < index) {\n            tokens.push({\n              type: this.types.text,\n              value: template.slice(lastIndex, index)\n            });\n          }\n          lastIndex = index + delimiters[0].length;\n          index = template.indexOf(delimiters[1], lastIndex);\n          if (index < 0) {\n            substring = template.slice(lastIndex - delimiters[1].length);\n            lastToken = tokens[tokens.length - 1];\n            if ((lastToken != null ? lastToken.type : void 0) === this.types.text) {\n              lastToken.value += substring;\n            } else {\n              tokens.push({\n                type: this.types.text,\n                value: substring\n              });\n            }\n            break;\n          }\n          value = template.slice(lastIndex, index).trim();\n          tokens.push({\n            type: this.types.binding,\n            value: value\n          });\n          lastIndex = index + delimiters[1].length;\n        }\n      }\n      return tokens;\n    };\n\n    return TextTemplateParser;\n\n  })();\n\n  Rivets.View = (function() {\n    function View(els, models, options) {\n      var k, option, v, _base, _i, _j, _len, _len1, _ref1, _ref2, _ref3, _ref4, _ref5;\n      this.els = els;\n      this.models = models;\n      if (options == null) {\n        options = {};\n      }\n      this.update = __bind(this.update, this);\n      this.publish = __bind(this.publish, this);\n      this.sync = __bind(this.sync, this);\n      this.unbind = __bind(this.unbind, this);\n      this.bind = __bind(this.bind, this);\n      this.select = __bind(this.select, this);\n      this.traverse = __bind(this.traverse, this);\n      this.build = __bind(this.build, this);\n      this.buildBinding = __bind(this.buildBinding, this);\n      this.bindingRegExp = __bind(this.bindingRegExp, this);\n      this.options = __bind(this.options, this);\n      if (!(this.els.jquery || this.els instanceof Array)) {\n        this.els = [this.els];\n      }\n      _ref1 = Rivets.extensions;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        option = _ref1[_i];\n        this[option] = {};\n        if (options[option]) {\n          _ref2 = options[option];\n          for (k in _ref2) {\n            v = _ref2[k];\n            this[option][k] = v;\n          }\n        }\n        _ref3 = Rivets[\"public\"][option];\n        for (k in _ref3) {\n          v = _ref3[k];\n          if ((_base = this[option])[k] == null) {\n            _base[k] = v;\n          }\n        }\n      }\n      _ref4 = Rivets.options;\n      for (_j = 0, _len1 = _ref4.length; _j < _len1; _j++) {\n        option = _ref4[_j];\n        this[option] = (_ref5 = options[option]) != null ? _ref5 : Rivets[\"public\"][option];\n      }\n      this.build();\n    }\n\n    View.prototype.options = function() {\n      var option, options, _i, _len, _ref1;\n      options = {};\n      _ref1 = Rivets.extensions.concat(Rivets.options);\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        option = _ref1[_i];\n        options[option] = this[option];\n      }\n      return options;\n    };\n\n    View.prototype.bindingRegExp = function() {\n      return new RegExp(\"^\" + this.prefix + \"-\");\n    };\n\n    View.prototype.buildBinding = function(binding, node, type, declaration) {\n      var context, ctx, dependencies, keypath, options, pipe, pipes;\n      options = {};\n      pipes = (function() {\n        var _i, _len, _ref1, _results;\n        _ref1 = declaration.match(/((?:'[^']*')*(?:(?:[^\\|']*(?:'[^']*')+[^\\|']*)+|[^\\|]+))|^$/g);\n        _results = [];\n        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n          pipe = _ref1[_i];\n          _results.push(pipe.trim());\n        }\n        return _results;\n      })();\n      context = (function() {\n        var _i, _len, _ref1, _results;\n        _ref1 = pipes.shift().split('<');\n        _results = [];\n        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n          ctx = _ref1[_i];\n          _results.push(ctx.trim());\n        }\n        return _results;\n      })();\n      keypath = context.shift();\n      options.formatters = pipes;\n      if (dependencies = context.shift()) {\n        options.dependencies = dependencies.split(/\\s+/);\n      }\n      return this.bindings.push(new Rivets[binding](this, node, type, keypath, options));\n    };\n\n    View.prototype.build = function() {\n      var el, parse, _i, _len, _ref1;\n      this.bindings = [];\n      parse = (function(_this) {\n        return function(node) {\n          var block, childNode, delimiters, n, parser, text, token, tokens, _i, _j, _len, _len1, _ref1;\n          if (node.nodeType === 3) {\n            parser = Rivets.TextTemplateParser;\n            if (delimiters = _this.templateDelimiters) {\n              if ((tokens = parser.parse(node.data, delimiters)).length) {\n                if (!(tokens.length === 1 && tokens[0].type === parser.types.text)) {\n                  for (_i = 0, _len = tokens.length; _i < _len; _i++) {\n                    token = tokens[_i];\n                    text = document.createTextNode(token.value);\n                    node.parentNode.insertBefore(text, node);\n                    if (token.type === 1) {\n                      _this.buildBinding('TextBinding', text, null, token.value);\n                    }\n                  }\n                  node.parentNode.removeChild(node);\n                }\n              }\n            }\n          } else if (node.nodeType === 1) {\n            block = _this.traverse(node);\n          }\n          if (!block) {\n            _ref1 = (function() {\n              var _k, _len1, _ref1, _results;\n              _ref1 = node.childNodes;\n              _results = [];\n              for (_k = 0, _len1 = _ref1.length; _k < _len1; _k++) {\n                n = _ref1[_k];\n                _results.push(n);\n              }\n              return _results;\n            })();\n            for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n              childNode = _ref1[_j];\n              parse(childNode);\n            }\n          }\n        };\n      })(this);\n      _ref1 = this.els;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        el = _ref1[_i];\n        parse(el);\n      }\n      this.bindings.sort(function(a, b) {\n        var _ref2, _ref3;\n        return (((_ref2 = b.binder) != null ? _ref2.priority : void 0) || 0) - (((_ref3 = a.binder) != null ? _ref3.priority : void 0) || 0);\n      });\n    };\n\n    View.prototype.traverse = function(node) {\n      var attribute, attributes, binder, bindingRegExp, block, identifier, regexp, type, value, _i, _j, _len, _len1, _ref1, _ref2, _ref3;\n      bindingRegExp = this.bindingRegExp();\n      block = node.nodeName === 'SCRIPT' || node.nodeName === 'STYLE';\n      _ref1 = node.attributes;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        attribute = _ref1[_i];\n        if (bindingRegExp.test(attribute.name)) {\n          type = attribute.name.replace(bindingRegExp, '');\n          if (!(binder = this.binders[type])) {\n            _ref2 = this.binders;\n            for (identifier in _ref2) {\n              value = _ref2[identifier];\n              if (identifier !== '*' && identifier.indexOf('*') !== -1) {\n                regexp = new RegExp(\"^\" + (identifier.replace(/\\*/g, '.+')) + \"$\");\n                if (regexp.test(type)) {\n                  binder = value;\n                }\n              }\n            }\n          }\n          binder || (binder = this.binders['*']);\n          if (binder.block) {\n            block = true;\n            attributes = [attribute];\n          }\n        }\n      }\n      _ref3 = attributes || node.attributes;\n      for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {\n        attribute = _ref3[_j];\n        if (bindingRegExp.test(attribute.name)) {\n          type = attribute.name.replace(bindingRegExp, '');\n          this.buildBinding('Binding', node, type, attribute.value);\n        }\n      }\n      if (!block) {\n        type = node.nodeName.toLowerCase();\n        if (this.components[type] && !node._bound) {\n          this.bindings.push(new Rivets.ComponentBinding(this, node, type));\n          block = true;\n        }\n      }\n      return block;\n    };\n\n    View.prototype.select = function(fn) {\n      var binding, _i, _len, _ref1, _results;\n      _ref1 = this.bindings;\n      _results = [];\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        binding = _ref1[_i];\n        if (fn(binding)) {\n          _results.push(binding);\n        }\n      }\n      return _results;\n    };\n\n    View.prototype.bind = function() {\n      var binding, _i, _len, _ref1;\n      _ref1 = this.bindings;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        binding = _ref1[_i];\n        binding.bind();\n      }\n    };\n\n    View.prototype.unbind = function() {\n      var binding, _i, _len, _ref1;\n      _ref1 = this.bindings;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        binding = _ref1[_i];\n        binding.unbind();\n      }\n    };\n\n    View.prototype.sync = function() {\n      var binding, _i, _len, _ref1;\n      _ref1 = this.bindings;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        binding = _ref1[_i];\n        if (typeof binding.sync === \"function\") {\n          binding.sync();\n        }\n      }\n    };\n\n    View.prototype.publish = function() {\n      var binding, _i, _len, _ref1;\n      _ref1 = this.select(function(b) {\n        var _ref1;\n        return (_ref1 = b.binder) != null ? _ref1.publishes : void 0;\n      });\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        binding = _ref1[_i];\n        binding.publish();\n      }\n    };\n\n    View.prototype.update = function(models) {\n      var binding, key, model, _i, _len, _ref1;\n      if (models == null) {\n        models = {};\n      }\n      for (key in models) {\n        model = models[key];\n        this.models[key] = model;\n      }\n      _ref1 = this.bindings;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        binding = _ref1[_i];\n        if (typeof binding.update === \"function\") {\n          binding.update(models);\n        }\n      }\n    };\n\n    return View;\n\n  })();\n\n  Rivets.Binding = (function() {\n    function Binding(view, el, type, keypath, options) {\n      this.view = view;\n      this.el = el;\n      this.type = type;\n      this.keypath = keypath;\n      this.options = options != null ? options : {};\n      this.getValue = __bind(this.getValue, this);\n      this.update = __bind(this.update, this);\n      this.unbind = __bind(this.unbind, this);\n      this.bind = __bind(this.bind, this);\n      this.publish = __bind(this.publish, this);\n      this.sync = __bind(this.sync, this);\n      this.set = __bind(this.set, this);\n      this.eventHandler = __bind(this.eventHandler, this);\n      this.formattedValue = __bind(this.formattedValue, this);\n      this.parseFormatterArguments = __bind(this.parseFormatterArguments, this);\n      this.parseTarget = __bind(this.parseTarget, this);\n      this.observe = __bind(this.observe, this);\n      this.setBinder = __bind(this.setBinder, this);\n      this.formatters = this.options.formatters || [];\n      this.dependencies = [];\n      this.formatterObservers = {};\n      this.model = void 0;\n      this.setBinder();\n    }\n\n    Binding.prototype.setBinder = function() {\n      var identifier, regexp, value, _ref1;\n      if (!(this.binder = this.view.binders[this.type])) {\n        _ref1 = this.view.binders;\n        for (identifier in _ref1) {\n          value = _ref1[identifier];\n          if (identifier !== '*' && identifier.indexOf('*') !== -1) {\n            regexp = new RegExp(\"^\" + (identifier.replace(/\\*/g, '.+')) + \"$\");\n            if (regexp.test(this.type)) {\n              this.binder = value;\n              this.args = new RegExp(\"^\" + (identifier.replace(/\\*/g, '(.+)')) + \"$\").exec(this.type);\n              this.args.shift();\n            }\n          }\n        }\n      }\n      this.binder || (this.binder = this.view.binders['*']);\n      if (this.binder instanceof Function) {\n        return this.binder = {\n          routine: this.binder\n        };\n      }\n    };\n\n    Binding.prototype.observe = function(obj, keypath, callback) {\n      return Rivets.sightglass(obj, keypath, callback, {\n        root: this.view.rootInterface,\n        adapters: this.view.adapters\n      });\n    };\n\n    Binding.prototype.parseTarget = function() {\n      var token;\n      token = Rivets.TypeParser.parse(this.keypath);\n      if (token.type === Rivets.TypeParser.types.primitive) {\n        return this.value = token.value;\n      } else {\n        this.observer = this.observe(this.view.models, this.keypath, this.sync);\n        return this.model = this.observer.target;\n      }\n    };\n\n    Binding.prototype.parseFormatterArguments = function(args, formatterIndex) {\n      var ai, arg, observer, processedArgs, _base, _i, _len;\n      args = (function() {\n        var _i, _len, _results;\n        _results = [];\n        for (_i = 0, _len = args.length; _i < _len; _i++) {\n          arg = args[_i];\n          _results.push(Rivets.TypeParser.parse(arg));\n        }\n        return _results;\n      })();\n      processedArgs = [];\n      for (ai = _i = 0, _len = args.length; _i < _len; ai = ++_i) {\n        arg = args[ai];\n        processedArgs.push(arg.type === Rivets.TypeParser.types.primitive ? arg.value : ((_base = this.formatterObservers)[formatterIndex] || (_base[formatterIndex] = {}), !(observer = this.formatterObservers[formatterIndex][ai]) ? (observer = this.observe(this.view.models, arg.value, this.sync), this.formatterObservers[formatterIndex][ai] = observer) : void 0, observer.value()));\n      }\n      return processedArgs;\n    };\n\n    Binding.prototype.formattedValue = function(value) {\n      var args, fi, formatter, id, processedArgs, _i, _len, _ref1, _ref2;\n      _ref1 = this.formatters;\n      for (fi = _i = 0, _len = _ref1.length; _i < _len; fi = ++_i) {\n        formatter = _ref1[fi];\n        args = formatter.match(/[^\\s']+|'([^']|'[^\\s])*'|\"([^\"]|\"[^\\s])*\"/g);\n        id = args.shift();\n        formatter = this.view.formatters[id];\n        processedArgs = this.parseFormatterArguments(args, fi);\n        if ((formatter != null ? formatter.read : void 0) instanceof Function) {\n          value = (_ref2 = formatter.read).call.apply(_ref2, [this.model, value].concat(__slice.call(processedArgs)));\n        } else if (formatter instanceof Function) {\n          value = formatter.call.apply(formatter, [this.model, value].concat(__slice.call(processedArgs)));\n        }\n      }\n      return value;\n    };\n\n    Binding.prototype.eventHandler = function(fn) {\n      var binding, handler;\n      handler = (binding = this).view.handler;\n      return function(ev) {\n        return handler.call(fn, this, ev, binding);\n      };\n    };\n\n    Binding.prototype.set = function(value) {\n      var _ref1;\n      value = value instanceof Function && !this.binder[\"function\"] && Rivets[\"public\"].executeFunctions ? this.formattedValue(value.call(this.model)) : this.formattedValue(value);\n      return (_ref1 = this.binder.routine) != null ? _ref1.call(this, this.el, value) : void 0;\n    };\n\n    Binding.prototype.sync = function() {\n      var dependency, observer;\n      return this.set((function() {\n        var _i, _j, _len, _len1, _ref1, _ref2, _ref3;\n        if (this.observer) {\n          if (this.model !== this.observer.target) {\n            _ref1 = this.dependencies;\n            for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n              observer = _ref1[_i];\n              observer.unobserve();\n            }\n            this.dependencies = [];\n            if (((this.model = this.observer.target) != null) && ((_ref2 = this.options.dependencies) != null ? _ref2.length : void 0)) {\n              _ref3 = this.options.dependencies;\n              for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {\n                dependency = _ref3[_j];\n                observer = this.observe(this.model, dependency, this.sync);\n                this.dependencies.push(observer);\n              }\n            }\n          }\n          return this.observer.value();\n        } else {\n          return this.value;\n        }\n      }).call(this));\n    };\n\n    Binding.prototype.publish = function() {\n      var args, fi, fiReversed, formatter, id, lastformatterIndex, processedArgs, value, _i, _len, _ref1, _ref2, _ref3;\n      if (this.observer) {\n        value = this.getValue(this.el);\n        lastformatterIndex = this.formatters.length - 1;\n        _ref1 = this.formatters.slice(0).reverse();\n        for (fiReversed = _i = 0, _len = _ref1.length; _i < _len; fiReversed = ++_i) {\n          formatter = _ref1[fiReversed];\n          fi = lastformatterIndex - fiReversed;\n          args = formatter.split(/\\s+/);\n          id = args.shift();\n          processedArgs = this.parseFormatterArguments(args, fi);\n          if ((_ref2 = this.view.formatters[id]) != null ? _ref2.publish : void 0) {\n            value = (_ref3 = this.view.formatters[id]).publish.apply(_ref3, [value].concat(__slice.call(processedArgs)));\n          }\n        }\n        return this.observer.setValue(value);\n      }\n    };\n\n    Binding.prototype.bind = function() {\n      var dependency, observer, _i, _len, _ref1, _ref2, _ref3;\n      this.parseTarget();\n      if ((_ref1 = this.binder.bind) != null) {\n        _ref1.call(this, this.el);\n      }\n      if ((this.model != null) && ((_ref2 = this.options.dependencies) != null ? _ref2.length : void 0)) {\n        _ref3 = this.options.dependencies;\n        for (_i = 0, _len = _ref3.length; _i < _len; _i++) {\n          dependency = _ref3[_i];\n          observer = this.observe(this.model, dependency, this.sync);\n          this.dependencies.push(observer);\n        }\n      }\n      if (this.view.preloadData) {\n        return this.sync();\n      }\n    };\n\n    Binding.prototype.unbind = function() {\n      var ai, args, fi, observer, _i, _len, _ref1, _ref2, _ref3, _ref4;\n      if ((_ref1 = this.binder.unbind) != null) {\n        _ref1.call(this, this.el);\n      }\n      if ((_ref2 = this.observer) != null) {\n        _ref2.unobserve();\n      }\n      _ref3 = this.dependencies;\n      for (_i = 0, _len = _ref3.length; _i < _len; _i++) {\n        observer = _ref3[_i];\n        observer.unobserve();\n      }\n      this.dependencies = [];\n      _ref4 = this.formatterObservers;\n      for (fi in _ref4) {\n        args = _ref4[fi];\n        for (ai in args) {\n          observer = args[ai];\n          observer.unobserve();\n        }\n      }\n      return this.formatterObservers = {};\n    };\n\n    Binding.prototype.update = function(models) {\n      var _ref1, _ref2;\n      if (models == null) {\n        models = {};\n      }\n      this.model = (_ref1 = this.observer) != null ? _ref1.target : void 0;\n      return (_ref2 = this.binder.update) != null ? _ref2.call(this, models) : void 0;\n    };\n\n    Binding.prototype.getValue = function(el) {\n      if (this.binder && (this.binder.getValue != null)) {\n        return this.binder.getValue.call(this, el);\n      } else {\n        return Rivets.Util.getInputValue(el);\n      }\n    };\n\n    return Binding;\n\n  })();\n\n  Rivets.ComponentBinding = (function(_super) {\n    __extends(ComponentBinding, _super);\n\n    function ComponentBinding(view, el, type) {\n      var attribute, bindingRegExp, propertyName, token, _i, _len, _ref1, _ref2;\n      this.view = view;\n      this.el = el;\n      this.type = type;\n      this.unbind = __bind(this.unbind, this);\n      this.bind = __bind(this.bind, this);\n      this.locals = __bind(this.locals, this);\n      this.component = this.view.components[this.type];\n      this[\"static\"] = {};\n      this.observers = {};\n      this.upstreamObservers = {};\n      bindingRegExp = view.bindingRegExp();\n      _ref1 = this.el.attributes || [];\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        attribute = _ref1[_i];\n        if (!bindingRegExp.test(attribute.name)) {\n          propertyName = this.camelCase(attribute.name);\n          token = Rivets.TypeParser.parse(attribute.value);\n          if (__indexOf.call((_ref2 = this.component[\"static\"]) != null ? _ref2 : [], propertyName) >= 0) {\n            this[\"static\"][propertyName] = attribute.value;\n          } else if (token.type === Rivets.TypeParser.types.primitive) {\n            this[\"static\"][propertyName] = token.value;\n          } else {\n            this.observers[propertyName] = attribute.value;\n          }\n        }\n      }\n    }\n\n    ComponentBinding.prototype.sync = function() {};\n\n    ComponentBinding.prototype.update = function() {};\n\n    ComponentBinding.prototype.publish = function() {};\n\n    ComponentBinding.prototype.locals = function() {\n      var key, observer, result, value, _ref1, _ref2;\n      result = {};\n      _ref1 = this[\"static\"];\n      for (key in _ref1) {\n        value = _ref1[key];\n        result[key] = value;\n      }\n      _ref2 = this.observers;\n      for (key in _ref2) {\n        observer = _ref2[key];\n        result[key] = observer.value();\n      }\n      return result;\n    };\n\n    ComponentBinding.prototype.camelCase = function(string) {\n      return string.replace(/-([a-z])/g, function(grouped) {\n        return grouped[1].toUpperCase();\n      });\n    };\n\n    ComponentBinding.prototype.bind = function() {\n      var k, key, keypath, observer, option, options, scope, v, _base, _i, _j, _len, _len1, _ref1, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7;\n      if (!this.bound) {\n        _ref1 = this.observers;\n        for (key in _ref1) {\n          keypath = _ref1[key];\n          this.observers[key] = this.observe(this.view.models, keypath, ((function(_this) {\n            return function(key) {\n              return function() {\n                return _this.componentView.models[key] = _this.observers[key].value();\n              };\n            };\n          })(this)).call(this, key));\n        }\n        this.bound = true;\n      }\n      if (this.componentView != null) {\n        this.componentView.bind();\n      } else {\n        this.el.innerHTML = this.component.template.call(this);\n        scope = this.component.initialize.call(this, this.el, this.locals());\n        this.el._bound = true;\n        options = {};\n        _ref2 = Rivets.extensions;\n        for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n          option = _ref2[_i];\n          options[option] = {};\n          if (this.component[option]) {\n            _ref3 = this.component[option];\n            for (k in _ref3) {\n              v = _ref3[k];\n              options[option][k] = v;\n            }\n          }\n          _ref4 = this.view[option];\n          for (k in _ref4) {\n            v = _ref4[k];\n            if ((_base = options[option])[k] == null) {\n              _base[k] = v;\n            }\n          }\n        }\n        _ref5 = Rivets.options;\n        for (_j = 0, _len1 = _ref5.length; _j < _len1; _j++) {\n          option = _ref5[_j];\n          options[option] = (_ref6 = this.component[option]) != null ? _ref6 : this.view[option];\n        }\n        this.componentView = new Rivets.View(Array.prototype.slice.call(this.el.childNodes), scope, options);\n        this.componentView.bind();\n        _ref7 = this.observers;\n        for (key in _ref7) {\n          observer = _ref7[key];\n          this.upstreamObservers[key] = this.observe(this.componentView.models, key, ((function(_this) {\n            return function(key, observer) {\n              return function() {\n                return observer.setValue(_this.componentView.models[key]);\n              };\n            };\n          })(this)).call(this, key, observer));\n        }\n      }\n    };\n\n    ComponentBinding.prototype.unbind = function() {\n      var key, observer, _ref1, _ref2, _ref3;\n      _ref1 = this.upstreamObservers;\n      for (key in _ref1) {\n        observer = _ref1[key];\n        observer.unobserve();\n      }\n      _ref2 = this.observers;\n      for (key in _ref2) {\n        observer = _ref2[key];\n        observer.unobserve();\n      }\n      return (_ref3 = this.componentView) != null ? _ref3.unbind.call(this) : void 0;\n    };\n\n    return ComponentBinding;\n\n  })(Rivets.Binding);\n\n  Rivets.TextBinding = (function(_super) {\n    __extends(TextBinding, _super);\n\n    function TextBinding(view, el, type, keypath, options) {\n      this.view = view;\n      this.el = el;\n      this.type = type;\n      this.keypath = keypath;\n      this.options = options != null ? options : {};\n      this.sync = __bind(this.sync, this);\n      this.formatters = this.options.formatters || [];\n      this.dependencies = [];\n      this.formatterObservers = {};\n    }\n\n    TextBinding.prototype.binder = {\n      routine: function(node, value) {\n        return node.data = value != null ? value : '';\n      }\n    };\n\n    TextBinding.prototype.sync = function() {\n      return TextBinding.__super__.sync.apply(this, arguments);\n    };\n\n    return TextBinding;\n\n  })(Rivets.Binding);\n\n  Rivets[\"public\"].binders.text = function(el, value) {\n    if (el.textContent != null) {\n      return el.textContent = value != null ? value : '';\n    } else {\n      return el.innerText = value != null ? value : '';\n    }\n  };\n\n  Rivets[\"public\"].binders.html = function(el, value) {\n    return el.innerHTML = value != null ? value : '';\n  };\n\n  Rivets[\"public\"].binders.show = function(el, value) {\n    return el.style.display = value ? '' : 'none';\n  };\n\n  Rivets[\"public\"].binders.hide = function(el, value) {\n    return el.style.display = value ? 'none' : '';\n  };\n\n  Rivets[\"public\"].binders.enabled = function(el, value) {\n    return el.disabled = !value;\n  };\n\n  Rivets[\"public\"].binders.disabled = function(el, value) {\n    return el.disabled = !!value;\n  };\n\n  Rivets[\"public\"].binders.checked = {\n    publishes: true,\n    priority: 2000,\n    bind: function(el) {\n      return Rivets.Util.bindEvent(el, 'change', this.publish);\n    },\n    unbind: function(el) {\n      return Rivets.Util.unbindEvent(el, 'change', this.publish);\n    },\n    routine: function(el, value) {\n      var _ref1;\n      if (el.type === 'radio') {\n        return el.checked = ((_ref1 = el.value) != null ? _ref1.toString() : void 0) === (value != null ? value.toString() : void 0);\n      } else {\n        return el.checked = !!value;\n      }\n    }\n  };\n\n  Rivets[\"public\"].binders.unchecked = {\n    publishes: true,\n    priority: 2000,\n    bind: function(el) {\n      return Rivets.Util.bindEvent(el, 'change', this.publish);\n    },\n    unbind: function(el) {\n      return Rivets.Util.unbindEvent(el, 'change', this.publish);\n    },\n    routine: function(el, value) {\n      var _ref1;\n      if (el.type === 'radio') {\n        return el.checked = ((_ref1 = el.value) != null ? _ref1.toString() : void 0) !== (value != null ? value.toString() : void 0);\n      } else {\n        return el.checked = !value;\n      }\n    }\n  };\n\n  Rivets[\"public\"].binders.value = {\n    publishes: true,\n    priority: 3000,\n    bind: function(el) {\n      if (!(el.tagName === 'INPUT' && el.type === 'radio')) {\n        this.event = el.tagName === 'SELECT' ? 'change' : 'input';\n        return Rivets.Util.bindEvent(el, this.event, this.publish);\n      }\n    },\n    unbind: function(el) {\n      if (!(el.tagName === 'INPUT' && el.type === 'radio')) {\n        return Rivets.Util.unbindEvent(el, this.event, this.publish);\n      }\n    },\n    routine: function(el, value) {\n      var o, _i, _len, _ref1, _ref2, _ref3, _results;\n      if (el.tagName === 'INPUT' && el.type === 'radio') {\n        return el.setAttribute('value', value);\n      } else if (window.jQuery != null) {\n        el = jQuery(el);\n        if ((value != null ? value.toString() : void 0) !== ((_ref1 = el.val()) != null ? _ref1.toString() : void 0)) {\n          return el.val(value != null ? value : '');\n        }\n      } else {\n        if (el.type === 'select-multiple') {\n          if (value != null) {\n            _results = [];\n            for (_i = 0, _len = el.length; _i < _len; _i++) {\n              o = el[_i];\n              _results.push(o.selected = (_ref2 = o.value, __indexOf.call(value, _ref2) >= 0));\n            }\n            return _results;\n          }\n        } else if ((value != null ? value.toString() : void 0) !== ((_ref3 = el.value) != null ? _ref3.toString() : void 0)) {\n          return el.value = value != null ? value : '';\n        }\n      }\n    }\n  };\n\n  Rivets[\"public\"].binders[\"if\"] = {\n    block: true,\n    priority: 4000,\n    bind: function(el) {\n      var attr, declaration;\n      if (this.marker == null) {\n        attr = [this.view.prefix, this.type].join('-').replace('--', '-');\n        declaration = el.getAttribute(attr);\n        this.marker = document.createComment(\" rivets: \" + this.type + \" \" + declaration + \" \");\n        this.bound = false;\n        el.removeAttribute(attr);\n        el.parentNode.insertBefore(this.marker, el);\n        return el.parentNode.removeChild(el);\n      }\n    },\n    unbind: function() {\n      if (this.nested) {\n        this.nested.unbind();\n        return this.bound = false;\n      }\n    },\n    routine: function(el, value) {\n      var key, model, models, _ref1;\n      if (!!value === !this.bound) {\n        if (value) {\n          models = {};\n          _ref1 = this.view.models;\n          for (key in _ref1) {\n            model = _ref1[key];\n            models[key] = model;\n          }\n          (this.nested || (this.nested = new Rivets.View(el, models, this.view.options()))).bind();\n          this.marker.parentNode.insertBefore(el, this.marker.nextSibling);\n          return this.bound = true;\n        } else {\n          el.parentNode.removeChild(el);\n          this.nested.unbind();\n          return this.bound = false;\n        }\n      }\n    },\n    update: function(models) {\n      var _ref1;\n      return (_ref1 = this.nested) != null ? _ref1.update(models) : void 0;\n    }\n  };\n\n  Rivets[\"public\"].binders.unless = {\n    block: true,\n    priority: 4000,\n    bind: function(el) {\n      return Rivets[\"public\"].binders[\"if\"].bind.call(this, el);\n    },\n    unbind: function() {\n      return Rivets[\"public\"].binders[\"if\"].unbind.call(this);\n    },\n    routine: function(el, value) {\n      return Rivets[\"public\"].binders[\"if\"].routine.call(this, el, !value);\n    },\n    update: function(models) {\n      return Rivets[\"public\"].binders[\"if\"].update.call(this, models);\n    }\n  };\n\n  Rivets[\"public\"].binders['on-*'] = {\n    \"function\": true,\n    priority: 1000,\n    unbind: function(el) {\n      if (this.handler) {\n        return Rivets.Util.unbindEvent(el, this.args[0], this.handler);\n      }\n    },\n    routine: function(el, value) {\n      if (this.handler) {\n        Rivets.Util.unbindEvent(el, this.args[0], this.handler);\n      }\n      return Rivets.Util.bindEvent(el, this.args[0], this.handler = this.eventHandler(value));\n    }\n  };\n\n  Rivets[\"public\"].binders['each-*'] = {\n    block: true,\n    priority: 4000,\n    bind: function(el) {\n      var attr, view, _i, _len, _ref1;\n      if (this.marker == null) {\n        attr = [this.view.prefix, this.type].join('-').replace('--', '-');\n        this.marker = document.createComment(\" rivets: \" + this.type + \" \");\n        this.iterated = [];\n        el.removeAttribute(attr);\n        el.parentNode.insertBefore(this.marker, el);\n        el.parentNode.removeChild(el);\n      } else {\n        _ref1 = this.iterated;\n        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n          view = _ref1[_i];\n          view.bind();\n        }\n      }\n    },\n    unbind: function(el) {\n      var view, _i, _len, _ref1;\n      if (this.iterated != null) {\n        _ref1 = this.iterated;\n        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n          view = _ref1[_i];\n          view.unbind();\n        }\n      }\n    },\n    routine: function(el, collection) {\n      var binding, data, i, index, key, model, modelName, options, previous, template, view, _i, _j, _k, _len, _len1, _len2, _ref1, _ref2, _ref3;\n      modelName = this.args[0];\n      collection = collection || [];\n      if (this.iterated.length > collection.length) {\n        _ref1 = Array(this.iterated.length - collection.length);\n        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n          i = _ref1[_i];\n          view = this.iterated.pop();\n          view.unbind();\n          this.marker.parentNode.removeChild(view.els[0]);\n        }\n      }\n      for (index = _j = 0, _len1 = collection.length; _j < _len1; index = ++_j) {\n        model = collection[index];\n        data = {\n          index: index\n        };\n        data[Rivets[\"public\"].iterationAlias(modelName)] = index;\n        data[modelName] = model;\n        if (this.iterated[index] == null) {\n          _ref2 = this.view.models;\n          for (key in _ref2) {\n            model = _ref2[key];\n            if (data[key] == null) {\n              data[key] = model;\n            }\n          }\n          previous = this.iterated.length ? this.iterated[this.iterated.length - 1].els[0] : this.marker;\n          options = this.view.options();\n          options.preloadData = true;\n          template = el.cloneNode(true);\n          view = new Rivets.View(template, data, options);\n          view.bind();\n          this.iterated.push(view);\n          this.marker.parentNode.insertBefore(template, previous.nextSibling);\n        } else if (this.iterated[index].models[modelName] !== model) {\n          this.iterated[index].update(data);\n        }\n      }\n      if (el.nodeName === 'OPTION') {\n        _ref3 = this.view.bindings;\n        for (_k = 0, _len2 = _ref3.length; _k < _len2; _k++) {\n          binding = _ref3[_k];\n          if (binding.el === this.marker.parentNode && binding.type === 'value') {\n            binding.sync();\n          }\n        }\n      }\n    },\n    update: function(models) {\n      var data, key, model, view, _i, _len, _ref1;\n      data = {};\n      for (key in models) {\n        model = models[key];\n        if (key !== this.args[0]) {\n          data[key] = model;\n        }\n      }\n      _ref1 = this.iterated;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        view = _ref1[_i];\n        view.update(data);\n      }\n    }\n  };\n\n  Rivets[\"public\"].binders['class-*'] = function(el, value) {\n    var elClass;\n    elClass = \" \" + el.className + \" \";\n    if (!value === (elClass.indexOf(\" \" + this.args[0] + \" \") !== -1)) {\n      return el.className = value ? \"\" + el.className + \" \" + this.args[0] : elClass.replace(\" \" + this.args[0] + \" \", ' ').trim();\n    }\n  };\n\n  Rivets[\"public\"].binders['*'] = function(el, value) {\n    if (value != null) {\n      return el.setAttribute(this.type, value);\n    } else {\n      return el.removeAttribute(this.type);\n    }\n  };\n\n  Rivets[\"public\"].formatters['call'] = function() {\n    var args, value;\n    value = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n    return value.call.apply(value, [this].concat(__slice.call(args)));\n  };\n\n  Rivets[\"public\"].adapters['.'] = {\n    id: '_rv',\n    counter: 0,\n    weakmap: {},\n    weakReference: function(obj) {\n      var id, _base, _name;\n      if (!obj.hasOwnProperty(this.id)) {\n        id = this.counter++;\n        Object.defineProperty(obj, this.id, {\n          value: id\n        });\n      }\n      return (_base = this.weakmap)[_name = obj[this.id]] || (_base[_name] = {\n        callbacks: {}\n      });\n    },\n    cleanupWeakReference: function(ref, id) {\n      if (!Object.keys(ref.callbacks).length) {\n        if (!(ref.pointers && Object.keys(ref.pointers).length)) {\n          return delete this.weakmap[id];\n        }\n      }\n    },\n    stubFunction: function(obj, fn) {\n      var map, original, weakmap;\n      original = obj[fn];\n      map = this.weakReference(obj);\n      weakmap = this.weakmap;\n      return obj[fn] = function() {\n        var callback, k, r, response, _i, _len, _ref1, _ref2, _ref3, _ref4;\n        response = original.apply(obj, arguments);\n        _ref1 = map.pointers;\n        for (r in _ref1) {\n          k = _ref1[r];\n          _ref4 = (_ref2 = (_ref3 = weakmap[r]) != null ? _ref3.callbacks[k] : void 0) != null ? _ref2 : [];\n          for (_i = 0, _len = _ref4.length; _i < _len; _i++) {\n            callback = _ref4[_i];\n            callback();\n          }\n        }\n        return response;\n      };\n    },\n    observeMutations: function(obj, ref, keypath) {\n      var fn, functions, map, _base, _i, _len;\n      if (Array.isArray(obj)) {\n        map = this.weakReference(obj);\n        if (map.pointers == null) {\n          map.pointers = {};\n          functions = ['push', 'pop', 'shift', 'unshift', 'sort', 'reverse', 'splice'];\n          for (_i = 0, _len = functions.length; _i < _len; _i++) {\n            fn = functions[_i];\n            this.stubFunction(obj, fn);\n          }\n        }\n        if ((_base = map.pointers)[ref] == null) {\n          _base[ref] = [];\n        }\n        if (__indexOf.call(map.pointers[ref], keypath) < 0) {\n          return map.pointers[ref].push(keypath);\n        }\n      }\n    },\n    unobserveMutations: function(obj, ref, keypath) {\n      var idx, map, pointers;\n      if (Array.isArray(obj) && (obj[this.id] != null)) {\n        if (map = this.weakmap[obj[this.id]]) {\n          if (pointers = map.pointers[ref]) {\n            if ((idx = pointers.indexOf(keypath)) >= 0) {\n              pointers.splice(idx, 1);\n            }\n            if (!pointers.length) {\n              delete map.pointers[ref];\n            }\n            return this.cleanupWeakReference(map, obj[this.id]);\n          }\n        }\n      }\n    },\n    observe: function(obj, keypath, callback) {\n      var callbacks, desc, value;\n      callbacks = this.weakReference(obj).callbacks;\n      if (callbacks[keypath] == null) {\n        callbacks[keypath] = [];\n        desc = Object.getOwnPropertyDescriptor(obj, keypath);\n        if (!((desc != null ? desc.get : void 0) || (desc != null ? desc.set : void 0))) {\n          value = obj[keypath];\n          Object.defineProperty(obj, keypath, {\n            enumerable: true,\n            get: function() {\n              return value;\n            },\n            set: (function(_this) {\n              return function(newValue) {\n                var cb, map, _i, _len, _ref1;\n                if (newValue !== value) {\n                  _this.unobserveMutations(value, obj[_this.id], keypath);\n                  value = newValue;\n                  if (map = _this.weakmap[obj[_this.id]]) {\n                    callbacks = map.callbacks;\n                    if (callbacks[keypath]) {\n                      _ref1 = callbacks[keypath].slice();\n                      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n                        cb = _ref1[_i];\n                        if (__indexOf.call(callbacks[keypath], cb) >= 0) {\n                          cb();\n                        }\n                      }\n                    }\n                    return _this.observeMutations(newValue, obj[_this.id], keypath);\n                  }\n                }\n              };\n            })(this)\n          });\n        }\n      }\n      if (__indexOf.call(callbacks[keypath], callback) < 0) {\n        callbacks[keypath].push(callback);\n      }\n      return this.observeMutations(obj[keypath], obj[this.id], keypath);\n    },\n    unobserve: function(obj, keypath, callback) {\n      var callbacks, idx, map;\n      if (map = this.weakmap[obj[this.id]]) {\n        if (callbacks = map.callbacks[keypath]) {\n          if ((idx = callbacks.indexOf(callback)) >= 0) {\n            callbacks.splice(idx, 1);\n            if (!callbacks.length) {\n              delete map.callbacks[keypath];\n              this.unobserveMutations(obj[keypath], obj[this.id], keypath);\n            }\n          }\n          return this.cleanupWeakReference(map, obj[this.id]);\n        }\n      }\n    },\n    get: function(obj, keypath) {\n      return obj[keypath];\n    },\n    set: function(obj, keypath, value) {\n      return obj[keypath] = value;\n    }\n  };\n\n  Rivets.factory = function(sightglass) {\n    Rivets.sightglass = sightglass;\n    Rivets[\"public\"]._ = Rivets;\n    return Rivets[\"public\"];\n  };\n\n  if (typeof (typeof module !== \"undefined\" && module !== null ? module.exports : void 0) === 'object') {\n    module.exports = Rivets.factory(require('sightglass'));\n  } else if (typeof define === 'function' && define.amd) {\n    define(['sightglass'], function(sightglass) {\n      return this.rivets = Rivets.factory(sightglass);\n    });\n  } else {\n    this.rivets = Rivets.factory(sightglass);\n  }\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rivets/dist/rivets.js\n// module id = 10\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 11\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./index.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/scss/index.scss\n// module id = 12\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*******************************************************\\n *\\n * ----------------------\\n * Engine Renderer Styles\\n * ----------------------\\n *\\n * These styles do not include any product-specific branding\\n * and/or layout / design. They represent minimal structural\\n * SCSS which is necessary for a default rendering of an\\n * FIB2 activity\\n *\\n * The styles are linked/depending on the presence of\\n * certain elements (classes / ids / tags) in the DOM (as would\\n * be injected via a valid FIB2 layout HTML and/or dynamically\\n * created by the FIB2 engine JS)\\n *\\n *\\n *******************************************************/\\nmain {\\n  font-size: 14px;\\n  font-family: 'Open Sans', Verdana, sans-serif; }\\n\\n.instructions {\\n  font-size: 1.1em;\\n  color: #5c5c5c;\\n  margin-bottom: 0.9em; }\\n\\n.smart-form {\\n  line-height: 0.8em; }\\n  .smart-form ol {\\n    padding: 0; }\\n  .smart-form .question-li {\\n    padding: .7em .4em .7em 1.8em;\\n    margin-left: 2em;\\n    color: #666; }\\n    .smart-form .question-li .wrong:before {\\n      content: \\\"\\\\F00D\\\";\\n      color: red;\\n      font-family: fontawesome;\\n      display: block;\\n      margin: .15em .36em auto -4.5em; }\\n    .smart-form .question-li .correct:before {\\n      content: \\\"\\\\F00C\\\";\\n      color: green;\\n      display: block;\\n      font-family: fontawesome;\\n      margin: .15em .36em auto -4.5em; }\\n  .smart-form .question {\\n    font-weight: normal;\\n    margin: 0;\\n    line-height: 1.5em; }\\n    .smart-form .question input {\\n      border-width: 0 0 1px 0;\\n      outline: none;\\n      width: 150px;\\n      text-align: center;\\n      border-radius: 0;\\n      display: inline; }\\n    .smart-form .question input:disabled {\\n      opacity: 0.6;\\n      background: #ffffff; }\\n  .smart-form .state-success input {\\n    border-color: #7DC27D; }\\n  .smart-form .state-success input:disabled {\\n    background: #f0fff0; }\\n  .smart-form .state-error input {\\n    border-color: #A90329; }\\n  .smart-form .state-error input:disabled {\\n    background: #fff0f0; }\\n\\n.feedback .alert-success {\\n  background-color: #f2fdee; }\\n\\n.feedback .alert-danger {\\n  background-color: #fdeeee; }\\n\\n.fib2-dark .instruction,\\n.fib2-dark .question-li {\\n  color: #ffffff; }\\n\\n.fib2-dark .smart-form .state-success input {\\n  background: #363636;\\n  border-color: #7DC27D; }\\n\\n.fib2-dark .smart-form .state-error input {\\n  background: #363636;\\n  border-color: #A90329; }\\n\\n.fib2-dark .smart-form input {\\n  background: #363636;\\n  color: #ffffff; }\\n\\n.fib2-dark .smart-form input:disabled {\\n  opacity: 0.6 !important;\\n  background: #363636; }\\n\\n.fib2-dark .feedback .alert-success {\\n  background-color: #363636;\\n  color: #40fd21;\\n  border: 1px solid #494949; }\\n\\n.fib2-dark .feedback .alert-danger {\\n  background-color: #363636;\\n  color: #e30e0e;\\n  border: 1px solid #494949; }\\n\\n.fib2-light {\\n  background-color: #f6f6f6; }\\n  .fib2-light .instructions {\\n    color: #535353; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/sass-loader/lib/loader.js!./src/scss/index.scss\n// module id = 13\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/lib/css-base.js\n// module id = 14\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tvar styleTarget = fn.call(this, selector);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[selector] = styleTarget;\n\t\t}\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/style-loader/lib/addStyles.js\n// module id = 15\n// module chunks = 0","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/style-loader/lib/urls.js\n// module id = 16\n// module chunks = 0","/* global $ */\n\nimport {Constants} from './constant';\nimport {Fib2ResponseProcessor} from './fib2.responseProcess';\n\nclass Fib2Events {\n  constructor(fib2Obj) {\n    this.fib2Obj = fib2Obj;\n    this.fib2UserResponse = new Fib2ResponseProcessor(fib2Obj);\n  }\n\n  /** Function to handle on input focus in*/\n  handleQuestionTextOnFocus(event) {\n    if (Constants.PARTIAL_SAVE_TIMER) {\n      clearInterval(Constants.PARTIAL_SAVE_TIMER);\n    }\n    Constants.PARTIAL_SAVE_TIMER = setInterval(() => {\n      let currentTarget = event.target;\n      let newAnswer = currentTarget.value.replace(/^\\s+|\\s+$/g, '');\n      let interactionId = currentTarget.attributes['id'].value;\n\n      /* If user did not change answer don't soft save. */\n      if (newAnswer === this.fib2Obj.userAnswers[interactionId]) {\n        return;\n      }\n\n      /* Save new Answer back in __content. */\n      this.fib2Obj.userAnswers[interactionId] = newAnswer;\n\n      /* Soft save answers. */\n      this.fib2UserResponse.savePartial();\n\n    }, 10000);\n  }\n\n  /** Function to handle on focus out*/\n  handleQuestionTextLostFocus(event) {\n    /* Stop previous timer. */\n    if (Constants.PARTIAL_SAVE_TIMER) {\n      clearInterval(Constants.PARTIAL_SAVE_TIMER);\n    }\n    let currentTarget = event.currentTarget;\n    let newAnswer = currentTarget.value.replace(/^\\s+|\\s+$/g, '');\n    let interactionId = currentTarget.attributes['id'].value;\n\n    /* If user did not change answer don't soft save. */\n    if (newAnswer === this.fib2Obj.userAnswers[interactionId]) {\n      return;\n    }\n\n    /* Save new Answer back in __content. */\n    this.fib2Obj.userAnswers[interactionId] = newAnswer;\n\n    /* Soft save answers. */\n    this.fib2UserResponse.savePartial();\n  }\n\n  bindEvents() {\n    $('.userAnswer')\n      .focus((event) => {\n        this.handleQuestionTextOnFocus(event, this.fib2Obj);\n      })\n      .blur((event) => {\n        this.handleQuestionTextLostFocus(event, this.fib2Obj);\n      });\n  }\n}\n\nexport {Fib2Events};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/fib-engine/fib2.events.js"],"sourceRoot":""}